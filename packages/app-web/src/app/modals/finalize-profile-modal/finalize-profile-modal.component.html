<ion-content>
  <div class="limited-width-pane" style="flex: 1; align-content: center">
    <h1>Just one last thing!</h1>
    <p style="line-height: 1.8rem">
      Before I can let you roam around please read the
      <a href="/documents/terms" target="_blank">terms and conditions</a>.
    </p>

    <ion-list class="ion-padding">
      <ion-row>
        <ion-col size="3" style="align-content: center">
          <ion-label class="ion-padding">Email</ion-label>
        </ion-col>
        <ion-col size="9">
          <ion-input
            [formControl]="formFg.controls.email"
            aria-label="Email"
            fill="outline"
            placeholder="Email Adress"
          ></ion-input>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col push="3" size="9">
          <ion-note> You hate reading mails, I hate writing them</ion-note>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="ion-padding-vertical" push="3" size="9">
          @if (product) {
            <span>Plan {{ product.name }}</span>
          }
          @if (!product) {
            <span>No plan available</span>
          }
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col class="ion-padding-vertical" push="3" size="9">
          <ion-checkbox
            [formControl]="formFg.controls.terms"
            class="ion-text-wrap"
            labelPlacement="end"
          >
            I accept the terms and conditions
          </ion-checkbox>
        </ion-col>
      </ion-row>
    </ion-list>
    <ion-toolbar style="--background: transparent">
      <ion-buttons slot="end">
        <ion-button
          (click)="accept()"
          [disabled]="loading || !product"
          color="primary"
          fill="solid"
        >
          @if (loading) {
            <ion-spinner
              class="ion-margin-end"
              color="dark"
              name="dots"
            ></ion-spinner>
          }
          Let's go!
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </div>
</ion-content>
