<div
  style="position: relative"
  (dragover)="onDragover($event)"
  (drop)="onDrop($event)"
  class="bucket-ref cy-bucket-ref"
>
  <ion-item
    [button]="true"
    lines="full"
    [routerLink]="'/buckets/' + bucket.id + '/sources'"
    class="bucket-header"
  >
    <ion-icon name="server-outline" class="ion-margin-end"></ion-icon>
    <ion-label
      style="font-size: 0.9rem"
      class="ion-no-margin"
      [color]="bucket.importersCount === 0 ? 'danger' : undefined"
    >
      {{ bucket.importersCount }}
      <span *ngIf="bucket.importersCount === 1">Feed</span>
      <span *ngIf="bucket.importersCount !== 1">Feeds</span>
    </ion-label>
    <app-histogram [data]="bucket.histogram"></app-histogram>
  </ion-item>
  <ion-item
    [button]="true"
    lines="full"
    [routerLink]="'/buckets/' + bucket.id"
    style="--background: transparent"
  >
    <ion-label>
      <div style="display: flex; align-items: center">
        <div class="tags" *ngIf="bucket.tags">
          <div *ngFor="let tag of bucket.tags">{{ tag }}</div>
        </div>
        <div class="title" [title]="bucket.title">
          {{ bucket.title }}
        </div>
      </div>
      <p class="description">{{ bucket.description }}</p>
      <p class="bucket-footer ion-padding-top" *ngIf="bucket.webhook">
        <ion-icon name="return-down-forward-outline"></ion-icon>
        <ion-chip>webhook</ion-chip>
      </p>
    </ion-label>
  </ion-item>
</div>
