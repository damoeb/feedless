<ion-header [translucent]="true">
  @if (session?.user?.purgeScheduledFor) {
    <ion-toolbar color="danger" style="padding-right: 5px; padding-left: 5px">
      <ion-label>
        This account is scheduled to be deleted in
        {{ fromNow(session.user?.purgeScheduledFor) }}
      </ion-label>
      <ion-button (click)="cancelAccountDeletion()" color="dark" slot="end">
        Cancel Deletion
      </ion-button>
    </ion-toolbar>
  }
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>

    <div class="title">
      <div routerLink="/" style="cursor: pointer">
        <span [innerHtml]="productConfig?.titleHtml"></span>
      </div>

      <ion-buttons class="ion-margin-horizontal">
        @if (serverConfig.isSaas()) {
          <app-repositories-button
            name="Directory"
            link="/directory"
          ></app-repositories-button>
        }
        <app-repositories-button
          link="/feeds"
          name="Feeds"
        ></app-repositories-button>
        <app-agents-button></app-agents-button>
        <ion-button
          href="https://join.slack.com/t/feedlesshq/shared_invite/zt-2vvcn5r2r-v9Zo_uornz~pl9RbrXQs6w"
          target="_blank"
        >
          <ion-icon name="logo-slack" slot="start"></ion-icon>
          Slack
        </ion-button>
      </ion-buttons>
    </div>

    <ion-buttons slot="end">
      <ion-button
        color="primary"
        fill="solid"
        routerLink="/feed-builder"
        routerLinkActive="hidden"
      >
        Create Feed
      </ion-button>
      <app-dark-mode-button></app-dark-mode-button>
      <!--      <ion-button routerLink="/plans">-->
      <!--        <ion-label> Pricing </ion-label>-->
      <!--      </ion-button>-->
      <app-login-button></app-login-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>
