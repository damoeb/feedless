<div class="plan">
  <ng-content></ng-content>

  @if (featureGroups && !imploded) {
    <div class="features">
      @for (featureGroup of featureGroups; track featureGroup) {
        @if (featureGroup.features.length > 0) {
          <div class="feature__group">
            {{ featureGroup.groupLabel }}
          </div>
          @for (feature of featureGroup.features; track feature) {
            <ion-row class="feature">
              <ion-col class="feature__name" size="10">
                <span class="feature__title">
                  {{ feature.title }}
                </span>
                @if (feature.subtitle) {
                  <span class="feature__subtitle"
                    >({{ feature.subtitle }})</span
                    >
                  }
                </ion-col>
                <ion-col class="feature__value" size="2">
                  @if (feature.valueHtml) {
                    <div
                      [innerHTML]="feature.valueHtml"
                    ></div>
                  }
                  @if (feature.valueBool) {
                    @if (feature.valueBool.value) {
                      <ion-icon
                        color="success"
                        name="checkmark-outline"
                      ></ion-icon>
                    }
                    @if (!feature.valueBool.value) {
                      <ion-icon
                        color="danger"
                        name="close-outline"
                      ></ion-icon>
                    }
                  }
                </ion-col>
              </ion-row>
            }
          }
        }
      </div>
    }
    <div class="plan__action ion-margin-top">
      <ng-content select="[planAction]"></ng-content>
    </div>
  </div>
