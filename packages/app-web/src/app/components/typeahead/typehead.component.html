<ion-searchbar placeholder="Search your Notebook"
               #searchbar
               autofocus
               (ionFocus)="onFocus()"
               [formControl]="queryControl"
></ion-searchbar>
<ion-list style="background: transparent">
  <!--  @if (busy) {-->
  <!--    <ion-progress-bar color="medium" type="indeterminate"></ion-progress-bar>-->
  <!--  }-->
  <!--  @if (getSuggestions().length === 0) {-->
  <!--    <ion-item>-->
  <!--      <ion-label>No matches</ion-label>-->
  <!--    </ion-item>-->
  <!--  }-->
  @for (suggestion of getSuggestions(); track suggestion; let i = $index) {
    <ion-item
      (click)="pickSuggestion(suggestion)"
      (mouseenter)="focussedMatchIndex = i"
      [button]="true"
      [ngClass]="{
        'active': i === focussedMatchIndex,
      }"
      lines="none"
      tabindex="-1"
    >
      <ion-label class="ion-text-nowrap">
        <h3 [innerHTML]="suggestion.highlightedTitle"></h3>
      </ion-label>
    </ion-item>
  }
</ion-list>
