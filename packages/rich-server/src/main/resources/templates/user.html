<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8"/>
  <title>User [[ ${name} ]]</title>
</head>
<body>
<h2 th:text="${name}"></h2>
<p th:text="${description}"></p>
<h3>Your Subscriptions</h3>

<ul>
  <li th:each="group : ${groups}">
    <a th:unless="${group.id == null}" th:href="'/group:' + ${group.id}">
      <strong th:text="${group.name}"></strong>
    </a>
    <strong th:if="${group.id == null}" th:text="${group.name}"></strong>
    <ul>
      <li th:each="subscription : ${group.subscriptions}">
        <a th:href="'/subscription:' + ${subscription.id}">
          <strong th:text="${subscription.title}"></strong></a>

        <span th:if="@{ ${subscription.throttled} }">
          (max [[ ${subscription.throttle.batchSize} ]] / [[ ${subscription.throttle.interval} ]] [[ ${subscription.throttle.timeUnit} ]])
        </span>

      </li>
    </ul>
  </li>
</ul>

<h3>Latest Entries
  <a th:href="'/user:' + ${emailHash} + '/rss'">rss</a> /
  <a th:href="'/user:' + ${emailHash} + '/atom'">atom</a> /
  <a th:href="'/user:' + ${emailHash} + '/json'">json</a>
</h3>

<div th:include="components :: entries"></div>

</body>
</html>
